#! /usr/bin/env python
# encoding: utf-8

import os

def options(opt):
    pass

def configure(conf):
    if not conf.path.find_dir('silk') or not conf.path.find_dir('silk/src'):
        conf.fatal('Can\'t find silk submodule. Run `git submodule update --init --recursive`.')
        return

def build(bld):
    sources = bld.path.ant_glob([
        'silk/src/*.c',
    ])
    includes = ['silk/include/']
    bld.stlib(
        source = sources,
        target = 'silk',
        features = 'c',
        includes = includes,
        export_includes = ['silk/include/']
    ) 